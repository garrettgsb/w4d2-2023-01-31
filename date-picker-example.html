<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vampires</title>
  <style>
    div {
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start;
      margin: 1rem;
      padding: 1rem;
      background: #E85;
      border: 1px dashed #222;
      border-radius: 4px;
      box-shadow: 2px 2px 8px #222;
    }

    div > div {
      filter: hue-rotate(90deg);
    }

    aside {
      position: absolute;
      top: 30%;
      left: 30%;

      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;

      height: 40vh;
      padding: 1rem;
      background: #F0F0F0;
      box-shadow: 2px 2px 8px #222;
      border-radius: 4px;
    }

    aside > * { margin: 1rem; }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <!--
    You'd just add the libraries like this... The order matters:
    picker.js depends on jQuery, so jQuery must come first.
    picker.date.js depends on picker.js, so picker.js must come next.
    Then, you'll have the methods from Picker available to you, as described in the documentation:
    https://amsul.ca/pickadate.js/
  -->
  <script src="pickadate.js-master/lib/picker.js"></script>
  <script src="pickadate.js-master/lib/picker.date.js"></script>
</head>
<body>
  <script>
    function createVampire(name) {
      return $(`<div>ğŸ§›â€â™‚ï¸ <span>${name}</span></div>`).on('click', function(event) {
        event.stopPropagation();
        openModalFor($(this));
      });
    }

    function openModalFor(element) {
      const modal = $(`
      <aside>
        <h1>ğŸ§›â€â™€ï¸</h1>
        <h2>Create New Vampire</h2>
        <input></input>
        <div class='datepicker'></div>
        <button id='create'>Create</button>
        <button id='close'>Close</button>
      </aside>
      `);
      const input = modal.find('input');
      const createButton = modal.find('#create')
      const closeButton = modal.find('#close');
      modal.find('.datepicker').pickadate();


      createButton.on('click', () => {
        element.append(createVampire(input.val()));
        modal.remove();
      });
      closeButton.on('click', () => modal.remove());

      $('body').append(modal);
    }

    $(() => {
      $('div').on('click', function(event) {
        event.stopPropagation();
        openModalFor($(this));
      });
    });
  </script>
  <div>
    ğŸ§›â€â™€ï¸ <span class="vampire-name">Root</span>
    <div>
      ğŸ§›â€â™€ï¸ <span class="vampire-name">Ansel</span>
      <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Bethel</span></div>
      <div>
        ğŸ§›â€â™€ï¸ <span class="vampire-name">Bentley</span>
        <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Catherine</span></div>
        <div>
          ğŸ§›â€â™€ï¸ <span class="vampire-name">Copernicus</span>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Diedrick</span></div>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Dresden</span>
            <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Elgort</span>
              <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Fiona</span></div>
            </div>
            <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Ephram</span></div>
          </div>
        </div>
        <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Caleb</span></div>
      </div>
    </div>
    <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Amhurst</span></div>
    <div>
      ğŸ§›â€â™€ï¸ <span class="vampire-name">Aurelian</span>
      <div>
        ğŸ§›â€â™€ï¸ <span class="vampire-name">Brumhilda</span>
        <div>
          ğŸ§›â€â™€ï¸ <span class="vampire-name">Calista</span>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Delilah</span></div>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Darius</span></div>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Dina</span></div>
        </div>
        <div>
          ğŸ§›â€â™€ï¸ <span class="vampire-name">Caruthers</span>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Demetrius</span></div>
          <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Demarion</span></div>
        </div>
      </div>
    </div>
    <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Alphonso</span>
      <div>ğŸ§›â€â™€ï¸ <span class="vampire-name">Bartholomew</span></div>
    </div>
  </div>
</body>
</html>
